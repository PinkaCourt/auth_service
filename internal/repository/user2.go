package repository

// В repository/user.go:
// Сохрани пользователя в БД (логин и хеш пароля)

// CREATE TABLE users (
//     id INTEGER PRIMARY KEY AUTOINCREMENT,
//     login TEXT NOT NULL UNIQUE,
//     password_hash TEXT NOT NULL
// );

// Подготовьте SQL-запрос с плейсхолдерами (? для SQLite).
// Выполните запрос через db.Exec(), передав параметры.
// Проверьте ошибки (например, дубликат логина).

// 3. Валидация уникальности логина
// При вставке данных SQLite вернет ошибку, если логин уже существует. Нужно обработать это:

// Псевдокод обработки ошибки:

// Если в ошибке есть подстрока UNIQUE constraint failed: users.login → отправляем статус 409 Conflict.
// Иначе → 500 Internal Server Error.

// Передайте подключение к БД в обработчики через замыкание или контекст.

// Простой способ (для начала):

// Сделайте переменную db глобальной (не рекомендуется для продакшена, но подойдет для обучения).
